<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Setup Your Radio ðŸŽ¶</title>
</head>
<body>

    <!-- Flash messages block -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul style="list-style-type: none; padding: 0;">
        {% for category, message in messages %}
          <li style="
              padding: 10px;
              margin-bottom: 5px;
              border: 1px solid;
              {% if category == 'success' %}
                  background-color: #d4edda; color: #155724; border-color: #c3e6cb;
              {% elif category == 'info' %}
                  background-color: #d1ecf1; color: #0c5460; border-color: #bee5eb;
              {% elif category == 'warning' %}
                  background-color: #fff3cd; color: #856404; border-color: #ffeeba;
              {% elif category == 'error' %}
                  background-color: #f8d7da; color: #721c24; border-color: #f5c6cb;
              {% else %}
                  background-color: #f0f0f0; color: #333; border-color: #ccc;
              {% endif %}
          ">
            {{ message }}
          </li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <h1>ðŸŽ§ Setup Your Personal Radio Station</h1>
    <form method="POST" action="/save">
        <label>Favorite News Topics (comma separated):</label><br>
        <input type="text" name="topics" value="{{ topics | join(', ') if topics else '' }}"><br><br>

        <label>Favorite Music Genres (comma separated):</label><br>
        <input type="text" name="music_tastes" value="{{ music_tastes | join(', ') if music_tastes else '' }}"><br><br>

        <label>Favorite Artists (comma separated):</label><br>
        <input type="text" name="favorite_artists" value="{{ favorite_artists if favorite_artists else '' }}"><br><br>

        <h3>Enter your Location (2-letter country code, e.g., us, gb, ca):</h3>
        <input type="text" name="location" value="{{ location if location else '' }}"><br><br>

        <label>Preferred News Mood:</label><br>
        <select name="news_mood">
            <option value="positive" {% if news_mood == 'positive' %}selected{% endif %}>Positive</option>
            <option value="neutral" {% if news_mood == 'neutral' %}selected{% endif %}>Neutral</option>
            <option value="serious" {% if news_mood == 'serious' %}selected{% endif %}>Serious</option>
            <option value="funny" {% if news_mood == 'funny' %}selected{% endif %}>Funny</option>
        </select><br><br>

        <input type="submit" value="Save Preferences">
    </form>
</body>
</html>
